= CORS
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../assets/images

The CORS (Cross-Origin Resource Sharing) standard specifies HTTP headers for servers to describe the set of origins allowed to read data using a web browser. For HTTP methods other than GET, and POST in some cases, the specification mandates that browsers preflight the request by obtaining supported methods from the server with an HTTP OPTIONS request. Upon server approval, the browser sends the actual request with the HTTP OPTIONS request. Servers can also notify clients to send credentials, such as Cookies and HTTP Authentication tokens, with requests.

== Definition

----
- policyRef:
    name: cors-flex
  config:
    originGroups: <array> // REQUIRED
    publicResource: <bool> // OPTIONAL, default: true
    supportCredentials: <string> // OPTIONAL, default: false
----

== Example

----
- policyRef:
    name: cors-flex
    config:
    publicResource: true
    supportCredentials: false
    originGroups:
        - name: Pepe
            origins:
              - http://www.mulesoft.com
              - http://www.google.com
            accessControlMaxAge: 20
            allowedMethods:
              - methodName: CONNECT
                isAllowed: true
              - methodName: DELETE
                isAllowed: false
            headers:
              - X-My-Header
            exposedHeaders:
              - X-Expose-Header
----