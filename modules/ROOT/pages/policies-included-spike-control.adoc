= Spike Control
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../assets/images

The *Spike Control* policy regulates your API request traffic by limiting the number of messages processed by an API. The policy ensures that the number of messages processed within a specified time does not exceed the limit that you configure. If the number is exceeded, the request is queued for retry based on you have configured the policy.

== Definition

----
- policyRef:
    name: spike-control-flex
  config:
    maximumRequests: <int> // OPTIONAL, default: 1 
    timePeriodInMilliseconds: <int> // OPTIONAL, default: 1000
    delayTimeInMillis: <int> // OPTIONAL, default: 1000
    delayAttempts: <int> // OPTIONAL, default: 1
    queuingLimit: <int> // OPTIONAL, default: 0
    exposeHeaders: <bool> // OPTIONAL, default: false
----

== Example

----
- policyRef:
    name: spike-control-flex
  config:
    queuingLimit: 0
    exposeHeaders: true
    delayTimeInMillis: 1000
    timePeriodInMilliseconds: 1000
    delayAttempts: 1
    maximumRequests: 100000
----

The *Spike Control* policy does not perform quota enforcement. The configuration parameters are restricted to protect the API and backend. Therefore, to ensure maximum performance, configure these parameters to the lowest possible value.