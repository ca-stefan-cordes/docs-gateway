= CORS
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../assets/images

The CORS (Cross-Origin Resource Sharing) standard specifies HTTP headers for servers to describe the set of origins allowed to read data using a web browser. For HTTP methods other than GET, and POST in some cases, the specification mandates that browsers preflight the request by obtaining supported methods from the server with an HTTP OPTIONS request. Upon server approval, the browser sends the actual request with the HTTP OPTIONS request. Servers can also notify clients to send credentials, such as Cookies and HTTP Authentication tokens, with requests.

== Definition

----
- policyRef:
    name: cors-flex
  config:
    originGroups: <array> // REQUIRED
    publicResource: <bool> // OPTIONAL, default: true
    supportCredentials: <bool> // OPTIONAL, default: false
----

== Example

----
- policyRef:
      name: cors-flex
    config:
      publicResource: false
      supportCredentials: true
      originGroups:
        - origins:
            - http://www.the-origin-of-time.com
          accessControlMaxAge: 30
          allowedMethods:
            - isAllowed: true
            methodName: POST
            - isAllowed: true
            methodName: PUT
            - isAllowed: true
            methodName: GET
            - isAllowed: false
            methodName: CONNECT
            - isAllowed: false
            methodName: DELETE
            - isAllowed: false
            methodName: OPTIONS
            - isAllowed: false
            methodName: PATCH
            - isAllowed: false
            methodName: TRACE
        headers:
            - x-allow-origin
            - x-yet-another-valid-header
        exposedHeaders:
            - x-forwarded-for
----